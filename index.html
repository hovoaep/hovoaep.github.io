<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <form>
      <input type="text" />
      <button type="submit">fasdfas</button>
      <h1></h1>
    </form>

    <script>
      console.log(window.opener);
      // const payWith = () => {
      //   const paymentRequest = {
      //     total: {
      //       label: 'samokat.ru',
      //       amount: 50,
      //     },
      //     countryCode: 'RU',
      //     currencyCode: 'RUB',
      //     merchantCapabilities: ['supports3DS'],
      //     supportedNetworks: ['masterCard', 'visa'],
      //   };
      //   // eslint-disable-next-line @typescript-eslint/ban-ts-comment
      //   // @ts-ignore
      //   try {
      //     const applePaySession = new window.ApplePaySession(1, paymentRequest);
      //     console.log(applePaySession);
      //     const x = applePaySession.begin();
      //     console.log(x);
      //   } catch (error) {
      //     console.log(12312);
      //     console.log('erro1r', error);
      //     document.querySelector('h1').innerHTML = `${error}`;
      //   }
      // };
      // document.querySelector('form').addEventListener('submit', (e) => {
      //   e.preventDefault();
      //   payWith();
      // });
      //       setTimeout(() => {
      //         document.querySelector('button').click();
      //       }, 1000);

      window.addEventListener(
        "message",
        (event) => {
          // Do we trust the sender of this message?  (might be
          // different from what we originally opened, for example).
          if (event.origin !== "http://example.com") return;

          // event.source is popup
          // event.data is "hi there yourself!  the secret response is: rheeeeet!"
        },
        false
      );
    </script>
  </body>
</html>
